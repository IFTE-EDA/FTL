# image: python:3.10.4
image: python:3.10.4-alpine

stages:          # List of stages for jobs, and their order of execution
  - hi
  - test
  - bye

before_script:
  - git submodule update --remote
  # - add-apt-repository universe && sudo apt upgrade
  # - apt-get install ffmpeg libsm6 libxext6  -y
  - apk add mpeg libsm6 libxext6
  - pip install -r requirements.txt
  - pip install -U pytest

hello:
  stage: hi
  script:
    - echo Hello

pytest:
  stage: test
  script:
    - pytest tests
#  artifacts:
#    when: always
#    reports:
#      junit: report.xml

goodbye:
  stage: bye
  script:
    - echo Goodbye